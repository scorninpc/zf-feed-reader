/*
 * jReject (jQuery Browser Rejection Plugin)
 * Version 1.0.2
 * URL: http://jreject.turnwheel.com/
 * Description: jReject is a easy method of rejecting specific browsers on your site
 * Author: Steven Bower (TurnWheel Designs) http://turnwheel.com/
 * Copyright: Copyright (c) 2009-2013 Steven Bower under dual MIT/GPLv2 license.
 */
(function(e){e.reject=function(r){var i=e.extend(true,{reject:{all:false,msie5:true,msie6:true},display:[],browserShow:true,browserInfo:{firefox:{text:"Mozilla Firefox",url:"http://www.mozilla.com/firefox/"},chrome:{text:"Google Chrome",url:"http://www.google.com/chrome/"},safari:{text:"Safari 5",url:"http://www.apple.com/safari/download/"},opera:{text:"Opera 12",url:"http://www.opera.com/download/"},msie:{text:"Internet Explorer 9",url:"http://www.microsoft.com/windows/Internet-explorer/"},gcf:{text:"Google Chrome Frame",url:"http://code.google.com/chrome/chromeframe/",allow:{all:false,msie:true}}},header:"Did you know that your Internet Browser is out of date?",paragraph1:"Your browser is out of date, and may not be compatible with "+"our website. A list of the most popular web browsers can be "+"found below.",paragraph2:"Just click on the icons to get to the download page",close:true,closeMessage:"By closing this window you acknowledge that your experience "+"on this website may be degraded",closeLink:"Close This Window",closeURL:"#",closeESC:true,closeCookie:false,cookieSettings:{path:"/",expires:0},imagePath:"./images/",overlayBgColor:"#000",overlayOpacity:.8,fadeInTime:"fast",fadeOutTime:"fast",analytics:false,more:false,idArea:false},r);if(i.display.length<1){i.display=["chrome","firefox","safari","opera","gcf","msie"]}if(e.isFunction(i.beforeReject)){i.beforeReject()}if(!i.close){i.closeESC=false}var s=function(t){return(t["all"]?true:false)||(t[e.os.name]?true:false)||(t[e.layout.name]?true:false)||(t[e.browser.name]?true:false)||(t[e.browser.className]?true:false)};if(!s(i.reject)){if(e.isFunction(i.onFail)){i.onFail()}return false}if(i.close&&i.closeCookie){var o="jreject-close";var u=function(t,n){if(typeof n!="undefined"){var r="";if(i.cookieSettings.expires!==0){var s=new Date;s.setTime(s.getTime()+i.cookieSettings.expires*1e3);r="; expires="+s.toGMTString()}var o=i.cookieSettings.path||"/";document.cookie=t+"="+encodeURIComponent(!n?"":n)+r+"; path="+o;return true}else{var u,a=null;if(document.cookie&&document.cookie!==""){var f=document.cookie.split(";");var l=f.length;for(var c=0;c<l;++c){u=e.trim(f[c]);if(u.substring(0,t.length+1)==t+"="){var h=t.length;a=decodeURIComponent(u.substring(h+1));break}}}return a}};if(u(o)){return false}}var a='<div id="jr_overlay"></div><div id="jr_wrap"><div id="jr_inner">'+'<h1 id="jr_header">'+i.header+"</h1>"+(i.paragraph1===""?"":'<p class="jr_pagraph1">'+i.paragraph1+"</p>")+(i.paragraph2===""?"":'<p class="jr_pagraph2">'+i.paragraph2+"</p>");if(i.browserShow){a+="<ul>";var f=0;for(var l in i.display){var c=i.display[l];var h=i.browserInfo[c]||false;if(!h||h["allow"]!=undefined&&!s(h["allow"])){continue}var p=h.url||"#";a+='<li id="jr_'+c+'"><div class="jr_icon"></div>'+'<div><a href="'+p+'">'+(h.text||"Unknown")+"</a>"+"</div></li>";++f}a+="</ul>"}a+='<div id="jr_close">'+(i.close?"<p>"+i.closeMessage+'</p><a href="'+i.closeURL+'">'+i.closeLink+"</a>":"")+"</div>";a+='<div id="jr_more">'+(i.more?"<p>"+i.moreMessage+"</p>":"")+"</div>"+"</div></div>";var d=null;if(!i.idArea){d=e("<div>"+a+"</div>")}else{d=e(i.idArea)}var v=t();var m=n();d.bind("closejr",function(){if(!i.close){return false}if(e.isFunction(i.beforeClose)){i.beforeClose()}e(this).unbind("closejr");e("#jr_overlay,#jr_wrap").fadeOut(i.fadeOutTime,function(){e(this).remove();if(e.isFunction(i.afterClose)){i.afterClose()}});var t="embed.jr_hidden, object.jr_hidden, select.jr_hidden, applet.jr_hidden";e(t).show().removeClass("jr_hidden");if(i.closeCookie){u(o,"true")}return true});var g=function(e){if(!i.analytics)return false;var t=e.split(/\/+/g)[1];try{_gaq.push(["_trackEvent","External Links",t,e])}catch(n){try{pageTracker._trackEvent("External Links",t,e)}catch(n){}}};var y=function(e){g(e);window.open(e,"jr_"+Math.round(Math.random()*11));return false};d.find("#jr_overlay").css({width:v[0],height:v[1],background:i.overlayBgColor,opacity:i.overlayOpacity});d.find("#jr_wrap").css({top:m[1]+v[3]/4,left:m[0]});d.find("#jr_inner").css({minWidth:f*100,maxWidth:f*140,width:e.layout.name=="trident"?f*155:"auto"});d.find("#jr_inner li .jr_icon").each(function(){var t=e(this);t.css("background","transparent url("+i.imagePath+"browser_"+t.parent("li").attr("id").replace(/jr_/,"")+".jpg)"+" no-repeat scroll left top");t.click(function(){var t=e(this).next("div").children("a").attr("href");y(t)})});d.find("#jr_inner li a").click(function(){y(e(this).attr("href"));return false});d.find("#jr_close a").click(function(){e(this).trigger("closejr");if(i.closeURL==="#"){return false}});e("#jr_overlay").focus();e("embed, object, select, applet").each(function(){if(e(this).is(":visible")){e(this).hide().addClass("jr_hidden")}});e("body").append(d.hide().fadeIn(i.fadeInTime));e(window).bind("resize scroll",function(){var r=t();e("#jr_overlay").css({width:r[0],height:r[1]});var i=n();e("#jr_wrap").css({top:i[1]+r[3]/4,left:i[0]})});if(i.closeESC){e(document).bind("keydown",function(e){if(e.keyCode==27){d.trigger("closejr")}})}if(e.isFunction(i.afterReject)){i.afterReject()}return true};var t=function(){var e=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth;var t=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight;var n=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth;var r=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return[e<n?e:n,t<r?r:t,n,r]};var n=function(){return[window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop]}})(jQuery);(function(e){e.browserTest=function(t,n){var r="unknown",i="X",s=function(e,t){for(var n=0;n<t.length;n=n+1){e=e.replace(t[n][0],t[n][1])}return e},o=function(t,n,o,a){var f={name:s((n.exec(t)||[r,r])[1],o)};f[f.name]=true;if(!f.opera){f.version=(a.exec(t)||[i,i,i,i])[3]}else{f.version=window.opera.version()}if(/safari/.test(f.name)){var l=/(safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/;var c=l.exec(t);if(c&&c[3]&&c[3]<400){f.version="2.0"}}else if(f.name==="presto"){f.version=e.browser.version>9.27?"futhark":"linear_b"}f.versionNumber=parseFloat(f.version,10)||0;var h=1;if(f.versionNumber<100&&f.versionNumber>9){h=2}f.versionX=f.version!==i?f.version.substr(0,h):i;f.className=f.name+f.versionX;return f};t=(/Opera|Navigator|Minefield|KHTML|Chrome|CriOS/.test(t)?s(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["CriOS","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase();e.browser=e.extend(!n?e.browser:{},o(t,/(camino|chrome|crios|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|crios|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/));e.layout=o(t,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/);e.os={name:(/(win|mac|linux|sunos|solaris|iphone|ipad)/.exec(navigator.platform.toLowerCase())||[r])[0].replace("sunos","solaris")};if(!n){e("html").addClass([e.os.name,e.browser.name,e.browser.className,e.layout.name,e.layout.className].join(" "))}};e.browserTest(navigator.userAgent)})(jQuery)


